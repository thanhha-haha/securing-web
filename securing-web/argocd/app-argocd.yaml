apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: securing-web
  namespace: argocd   # ArgoCD pháº£i Ä‘Æ°á»£c cÃ i trong namespace nÃ y
spec:
  project: default

  source:
    repoURL: https://github.com/thanhha-haha/securing-web.git   # ðŸ”¹ Repo chá»©a file YAML triá»ƒn khai
    targetRevision: master                                                        # ðŸ”¹ Branch cáº§n deploy
    path: securing-web/argocd                                                                   # ðŸ”¹ ThÆ° má»¥c chá»©a deployment.yaml, service.yaml,...

  destination:
    server: https://kubernetes.default.svc
    namespace: default                                                          # ðŸ”¹ Namespace muá»‘n deploy app vÃ o

  syncPolicy:
    automated:
      prune: true       # XÃ³a cÃ¡c resource khÃ´ng cÃ²n trong Git repo
      selfHeal: true    # Náº¿u cÃ³ thay Ä‘á»•i ngoÃ i Git, ArgoCD tá»± sá»­a láº¡i
    syncOptions:
      - CreateNamespace=true
